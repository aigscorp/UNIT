<html lang="ru">
<head>
    <!--<link rel="stylesheet" href="/assets/css/ekko-lightbox.css">-->
    <!--<script src="/assets/js/ekko-lightbox.js" type="text/javascript"></script>-->
    <script src="../../assets/js/popup.js"></script>
</head>
<body>
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#warnModal" id="msg" style="position: absolute;left: -99999px;top: -99999px;">

    </button>

    <!-- Модальное окно -->
    <div class="modal fade" id="warnModal" tabindex="-1" aria-labelledby="warnModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="warnModalLabel">Предупреждение</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Закрыть</button>
                    <!-- <button type="button" class="btn btn-primary">Сохранить изменения</button> -->
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <h2 zippy="pasportModel"></h2>
    </div>

    <!--<div class="row">-->
        <!--<div class="navbar nav">-->
            <!--<form zippy="filter" class="form-inline">-->
                <!--<label for="searchcat">категория </label>-->
                <!--<select class="form-control mr-2" zippy="searchcat">-->
                    <!--<option value="0">Не задана</option>-->
                <!--</select>-->
            <!--</form>-->
        <!--</div>-->
    <!--</div>-->

    <div class="row">

        <div class="col-6">
        <form zippy="pasportForm">

                <div class="form-group">
                    <label for="modelName">Наименование модели</label>
                    <input type="text" class="form-control" zippy="modelName" placeholder="Наименование" required="true">
                </div>

                <div class="form-group">
                    <label for="size">Размеры модели</label>
                    <select class="form-control" zippy="size">
                        <option value="-1">Не выбран</option>
                    </select>
                    <div zippy="panelNewModelSize">
                        <table class="table table-borderless table-striped table-sm" style="margin-top: 10px;">
                            <thead class="table-dark">
                            <tr>
                                <th>Модель</th>
                                <th>Размер</th>
                                <th>Количество</th>
                            </tr>
                            </thead>
                            <tr zippy="newSizeModel">
                                <td><span zippy="namemodel"></span></td>
                                <td>
                                    <span zippy="sizemodel"></span>
                                </td>
                                <td><input type="number" min="0" zippy="countofsize"/></td>
                            </tr>
                        </table>
                    </div>
                </div>

                <div class="form-group">
                    <input zippy="addmaterials" type="submit" value="Добавить комплектующие для модели" class="note-btn"
                           style="border: none; color: #007bff; padding: 0;"/>
                </div>
                <div class="form-group">
                    <textarea style="height: inherit" zippy="editmaterial" class="form-control" readonly="readonly"></textarea>
                </div>
                <div class="form-group">
                    <a zippy="addworks">Добавить список работ</a>
                </div>
                <div class="form-group">
                    <textarea zippy="editcomment" class="form-control" readonly="readonly"></textarea>
                </div>

                <div class="form-group">
                    <input zippy="saveModel" type="submit" value="Сохранить1" class="btn btn-outline-primary">
                    <input zippy="cancelModel" type="submit" value="Отменить1" class="btn btn-outline-primary"/>
                </div>
    </form>
    </div>
        <!--<div class="col-4">-->
            <!--<form zippy="itemMaterials">-->
                <!--<div class="form-group">-->
                    <!--<input zippy="addmaterials" type="submit" value="Добавить комплектующие для модели" class="note-btn"/>-->
                <!--</div>-->
            <!--</form>-->
        <!--</div>-->
    </div>

    <!--<div class="row">-->
        <!--<form zippy="itemMaterials">-->
            <!--<div class="form-group">-->
                <!--<input zippy="addmaterials" type="submit" value="Добавить комплектующие для модели" class="note-btn"/>-->
            <!--</div>-->
        <!--</form>-->
    <!--</div>-->

    <form zippy="listWorkForm">
        <div class="row">
            <div class="col-8 col-md-6 col-lg-4">
                <div class="form-group">
                    <table class="table table-borderless table-striped table-sm">
                        <tr>
                            <th>Вид работы</th>
                            <th>Стоимость</th>
                            <th>Выбрать</th>
                            <th></th>
                        </tr>
                        <tr zippy="listwork">
                            <td><span zippy="typeWork"></span></td>
                            <td><span zippy="price"></span></td>
                            <td>
                                <div class="form-check">
                                    <input type="checkbox" zippy="checkTypeWork" class="form-check-input"/>
                                </div>
                            </td>
                            <td></td>
                        </tr>
                    </table>
                    <div zippy="pag"></div>
                </div>
                <div class="form-group">
                    <input zippy="saveWork" type="submit" value="Сохранить" class="btn btn-outline-primary">
                    <input zippy="cancelWork" type="submit" value="Отменить" class="btn btn-outline-primary"/>
                </div>
            </div>
        </div>
    </form>

    <script>
      $(document).ready(function () {
        console.log('script running...');
        $(document).on('click', '[data-toggle="lightbox"]', function (event) {
          event.preventDefault();
          $(this).ekkoLightbox({'alwaysShowClose': true});
        });

        // let material = document.getElementById('editmaterial');
        // if(material != null){
        //   let txt = material.innerText;
        //   console.log('txt = ', txt);
        //   var t = txt.replace(/<(.*?)>/g,`<b style="color:blue">кол-во $1\<\/b\>`);//
        //   var res = txt.matchAll(/<(.*?)>/g);
        //   var arr = Array.from(res);
        //   console.log('arr: ', arr);
        //   console.log('zamena =', t);
        //   material.innerHTML = t;
        //
        // }
      });


    </script>
</body>
</html>